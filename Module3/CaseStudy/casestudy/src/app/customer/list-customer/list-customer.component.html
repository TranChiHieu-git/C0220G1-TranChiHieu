<div class="container">
  <h1 class="title">Danh sách khách hàng</h1>
  <div>
    <div>
      <nav class="navbar navbar-light px-0">
        <a class="btn btn-primary" [routerLink]="'/customer/create'" role="button">Thêm mới khách hàng</a>
        <form class="form-inline" [formGroup]="searchCustomerForm" (ngSubmit)="onSearch()">
          <input class="form-control mr-sm-2 search" type="search"
                 placeholder="Nhập tên khách hàng"
                 aria-label="Search" formControlName="key">
          <button class="btn btn-outline-primary my-2 my-sm-0" type="submit">Tìm kiếm</button>
        </form>
      </nav>
    </div>
  </div>
  <table class="table">
    <thead class="thead-light">
    <tr>
      <th scope="col">STT</th>
      <th scope="col">Mã khách hàng</th>
      <th scope="col">Tên khách hàng</th>
      <th scope="col">Số chứng minh thư</th>
      <th scope="col">Số điện thoại</th>
      <th scope="col">Địa chỉ</th>
      <th scope="col"></th>
      <th scope="col"></th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let customer of customerList| paginate: { itemsPerPage: 6, currentPage: p }; let i = index">
      <td class="content" scope="row"
          (click)="showDetailsInfor(customer.id)">{{customerList.length - (customerList.length - (i + 1))}}</td>
      <td class="content" (click)="showDetailsInfor(customer.id)"><a>{{customer.id}}</a></td>
      <td class="content" (click)="showDetailsInfor(customer.id)">{{customer.name}}</td>
      <td class="content" (click)="showDetailsInfor(customer.id)">{{customer.identificationCard}}</td>
      <td class="content" (click)="showDetailsInfor(customer.id)">{{customer.numberPhone}}</td>
      <td class="content" (click)="showDetailsInfor(customer.id)">{{customer.address}}</td>
      <td class="edit px-0">
        <a class="btn btn-primary" [routerLink]="['/customer/update',customer.id]" role="button">Chỉnh sửa</a>
      </td>
      <td class="delete px-0">
        <button class="btn btn-danger" (click)="deleteCustomerById(customer.id)" role="button">Xóa</button>
      </td>
    </tr>
    </tbody>
  </table>
  <div>
    <pagination-controls (pageChange)="p = $event" class="paging"></pagination-controls>
  </div>
  <!-- dialog -->
  <div *ngIf="customerInfor">
    <div class="modal" tabindex="-1" role="dialog" id="myModal">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-body inforpage">
            <button type="button" class="close" data-dismiss="modal" id="close" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            <h1 class="title">Thông tin chi tiết khách hàng</h1>
            <table class="infortable">
              <tr>
                <td>Mã khách hàng:</td>
                <th>{{customerInfor.id}}</th>
              </tr>
              <tr>
                <td>Tên khách hàng:</td>
                <th>{{customerInfor.name}}</th>
              </tr>
              <tr>
                <td>Ngày sinh:</td>
                <th>{{customerInfor.birthday}}</th>
              </tr>
              <tr>
                <td>Số CMND:</td>
                <th>{{customerInfor.identificationCard}}</th>
              </tr>
              <tr>
                <td>Email:</td>
                <th>{{customerInfor.email}}</th>
              </tr>
              <tr>
                <td>Số điện thoại:</td>
                <th>{{customerInfor.numberPhone}}</th>
              </tr>
              <tr>
                <td>Địa chỉ:</td>
                <th>{{customerInfor.address}}</th>
              </tr>
              <tr>
                <td>Loại khách hàng:</td>
                <th>{{customerInfor.idTypeCustomer}}</th>
              </tr>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>




